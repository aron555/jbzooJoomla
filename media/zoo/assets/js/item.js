/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(t){var n=function(){};n.prototype=t.extend(n.prototype,{name:"BrowseItems",initialize:function(a){this.timer=null,this.delay=1500,a.find("td.priority").each(function(){var i=t(this).find("input.value:first");i.on("change",function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var e={},r=a.find("table.list:first");t.each(a.serializeArray(),function(s,l){e[l.name]=l.value}),r.addClass("loader"),t.ajax({url:a.attr("action"),type:"post",datatype:"json",data:t.extend(e,{task:"savepriority",format:"raw"}),success:function(s){r.removeClass("loader"),t.Message(s,!0)}})},this.delay)}),t(this).find("span.plus:first, span.minus:first").on("click",function(){var e=t(this).is(".plus")?1:-1;i.val(o(i.val())+e).trigger("change")})})}});function o(a){const i=Number(a);return isNaN(i)?0:i}t.fn[n.prototype.name]=function(){var a=arguments,i=a[0]?a[0]:null;return this.each(function(){var e=t(this);if(n.prototype[i]&&e.data(n.prototype.name)&&i!="initialize")e.data(n.prototype.name)[i].apply(e.data(n.prototype.name),Array.prototype.slice.call(a,1));else if(!i||t.isPlainObject(i)){var r=new n;n.prototype.initialize&&r.initialize.apply(r,t.merge([e],a)),e.data(n.prototype.name,r)}else t.error("Method "+i+" does not exist on jQuery."+n.name)})}})(jQuery),function(t){var n=function(){};n.prototype=t.extend(n.prototype,{name:"EditItem",initialize:function(o){t("#adminForm").on("validate.adminForm",function(e){o.find('input[name="name"]').val()==""&&(o.find("span.message-name").css("display","block"),e.preventDefault())});var a=t("#categories"),i=t("#paramsprimary_category");a.on("change",function(){var e=t(this).val()?t(this).val():[],r=i.val();t.inArray(r,e)==-1&&i.val(e.length?e.shift():""),i.trigger("liszt:updated")}),i.on("change",function(){var e=a.val()?a.val():[],r=t(this).val();t.inArray(r,e)==-1&&(e.push(r),a.val(e),a.trigger("liszt:updated"))}),o.find("div.element").each(function(){t(this).on("click","div.more-options div.trigger div.button",function(){var e=t(this).closest("div.more-options"),r="show-"+t(this).attr("class").split(" ").shift();e.hasClass(r)?e.attr("class","more-options"):e.attr("class","more-options "+r)}).find("div.row > input:text").placeholder()})}}),t.fn[n.prototype.name]=function(){var o=arguments,a=o[0]?o[0]:null;return this.each(function(){var i=t(this);if(n.prototype[a]&&i.data(n.prototype.name)&&a!="initialize")i.data(n.prototype.name)[a].apply(i.data(n.prototype.name),Array.prototype.slice.call(o,1));else if(!a||t.isPlainObject(a)){var e=new n;n.prototype.initialize&&e.initialize.apply(e,t.merge([i],o)),i.data(n.prototype.name,e)}else t.error("Method "+a+" does not exist on jQuery."+n.name)})}}(jQuery);
