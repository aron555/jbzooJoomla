/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(n){var e=function(){};e.prototype=n.extend(e.prototype,{name:"ElementDownload",options:{url:""},initialize:function(i,t){this.options=n.extend({},this.options,t);var a=this;i.find('input[name="reset-hits"]').bind("click",function(){n.ajax({url:a.options.url+"&task=callelement&method=reset",success:function(o){i.replaceWith(o)}})})}}),n.fn[e.prototype.name]=function(){var i=arguments,t=i[0]?i[0]:null;return this.each(function(){var a=n(this);if(e.prototype[t]&&a.data(e.prototype.name)&&t!="initialize")a.data(e.prototype.name)[t].apply(a.data(e.prototype.name),Array.prototype.slice.call(i,1));else if(!t||n.isPlainObject(t)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,n.merge([a],i)),a.data(e.prototype.name,o)}else n.error("Method "+t+" does not exist on jQuery."+e.name)})}})(jQuery),function(n){var e=function(){};e.prototype=n.extend(e.prototype,{name:"DownloadSubmission",initialize:function(i){var t=this;this.element=i,this.advanced=i.find("select.upload"),this.select_upload=this.advanced.length?this.advanced:i.find("input.upload"),i.find("span.download-cancel").bind("click",function(){t.select_upload.val(""),i.find("div.download-limit input").val(""),t.sanatize()}),this.advanced.length&&this.select_upload.bind("change",function(){i.find("span.preview").text(t.select_upload.val().replace(/^.*[\/\\]/g,"")),t.sanatize()}),t.sanatize()},sanatize:function(){this.select_upload.val()?(this.element.find("div.download-select").addClass("hidden"),this.element.find("div.download-preview").removeClass("hidden")):(this.element.find("div.download-select").removeClass("hidden"),this.element.find("div.download-preview").addClass("hidden"))}}),n.fn[e.prototype.name]=function(){var i=arguments,t=i[0]?i[0]:null;return this.each(function(){var a=n(this);if(e.prototype[t]&&a.data(e.prototype.name)&&t!="initialize")a.data(e.prototype.name)[t].apply(a.data(e.prototype.name),Array.prototype.slice.call(i,1));else if(!t||n.isPlainObject(t)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,n.merge([a],i)),a.data(e.prototype.name,o)}else n.error("Method "+t+" does not exist on jQuery."+e.name)})}}(jQuery);
