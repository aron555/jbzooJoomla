/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(n){var i=function(){};n.extend(i.prototype,{name:"GroupImageSubmission",options:{uri:""},initialize:function(t,a){this.options=n.extend({},this.options,a);var e=this;this.element=t,this.advanced=t.find("select.image"),this.select_image=this.advanced.length?this.advanced:t.find("input.image"),t.find("span.image-cancel").on("click",function(){e.select_image.val(""),e.sanatize()}),this.advanced.length&&this.select_image.on("change",function(){t.find("img").attr("src",e.options.uri+e.select_image.val()),e.sanatize()}),e.sanatize()},sanatize:function(){this.select_image.val()?(this.element.find("div.image-select").addClass("hidden"),this.element.find("div.image-preview").removeClass("hidden")):(this.element.find("div.image-select").removeClass("hidden"),this.element.find("div.image-preview").addClass("hidden"))}}),n.fn[i.prototype.name]=function(){var t=arguments,a=t[0]?t[0]:null;return this.each(function(){var e=n(this);if(i.prototype[a]&&e.data(i.prototype.name)&&a!="initialize")e.data(i.prototype.name)[a].apply(e.data(i.prototype.name),Array.prototype.slice.call(t,1));else if(!a||n.isPlainObject(a)){var s=new i;i.prototype.initialize&&s.initialize.apply(s,n.merge([e],t)),e.data(i.prototype.name,s)}else n.error("Method "+a+" does not exist on jQuery."+i.name)})}})(jQuery);
