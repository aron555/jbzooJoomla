/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(e){var t=function(){};e.extend(t.prototype,{name:"ElementRepeatableTextarea",initialize:function(a){var i=a.find("ul.repeatable-list");i.find("li.hidden").each(function(){e(this).find("*").each(function(){e(this).attr("name")&&e(this).attr("disabled",!0)})}),a.on("click","span.delete",function(){e(this).closest("li.repeatable-element").fadeOut(200,function(){e(this).addClass("hidden"),e(this).find("*").each(function(){e(this).attr("name")&&e(this).attr("disabled",!0)})})}),a.find("p.add a").on("click",function(){var n=e(i.find("li.hidden").get(0)).removeClass("hidden");n.find("[name][disabled]").each(function(){e(this).attr("disabled",!1)}),n.find("div.repeatable-content").effect("highlight",{},1e3),i.find("li.hidden").length==0&&e(this).parent().hide(),Joomla.JoomlaTinyMCE&&Joomla.JoomlaTinyMCE.setupEditors()})}}),e.fn[t.prototype.name]=function(){var a=arguments,i=a[0]?a[0]:null;return this.each(function(){var n=e(this);if(t.prototype[i]&&n.data(t.prototype.name)&&i!="initialize")n.data(t.prototype.name)[i].apply(n.data(t.prototype.name),Array.prototype.slice.call(a,1));else if(!i||e.isPlainObject(i)){var o=new t;t.prototype.initialize&&o.initialize.apply(o,e.merge([n],a)),n.data(t.prototype.name,o)}else e.error("Method "+i+" does not exist on jQuery."+t.name)})}})(jQuery);
