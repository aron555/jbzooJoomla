/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(t){var e=function(){};t.extend(e.prototype,{name:"ElementRating",options:{url:null},initialize:function(n,i){this.options=t.extend({},this.options,i);var a=this,o=n.find("div.stars");o.each(function(p){t(this).bind("click",function(){var l=o.length-p;t.ajax({url:a.options.url,data:{method:"vote","args[0]":l},type:"post",datatype:"json",success:function(u){var r=t.parseJSON(u),s=r.value;s>0&&n.find("div.previous-rating").css("width",s+"%"),n.find("div.vote-message").text(r.message)}})}).bind("mouseenter",function(){t(this).addClass("hover")}).bind("mouseleave",function(){t(this).removeClass("hover")})})}}),t.fn[e.prototype.name]=function(){var n=arguments,i=n[0]?n[0]:null;return this.each(function(){var a=t(this);if(e.prototype[i]&&a.data(e.prototype.name)&&i!="initialize")a.data(e.prototype.name)[i].apply(a.data(e.prototype.name),Array.prototype.slice.call(n,1));else if(!i||t.isPlainObject(i)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,t.merge([a],n)),a.data(e.prototype.name,o)}else t.error("Method "+i+" does not exist on jQuery."+e.name)})}})(jQuery),function(t){var e=function(){};t.extend(e.prototype,{name:"EditElementRating",options:{url:null},initialize:function(n,i){this.options=t.extend({},this.options,i);var a=this;n.find('input[name="reset-rating"]').bind("click",function(){t.ajax({url:a.options.url+"&task=callelement&method=reset",success:function(o){n.replaceWith(o)}})})}}),t.fn[e.prototype.name]=function(){var n=arguments,i=n[0]?n[0]:null;return this.each(function(){var a=t(this);if(e.prototype[i]&&a.data(e.prototype.name)&&i!="initialize")a.data(e.prototype.name)[i].apply(a.data(e.prototype.name),Array.prototype.slice.call(n,1));else if(!i||t.isPlainObject(i)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,t.merge([a],n)),a.data(e.prototype.name,o)}else t.error("Method "+i+" does not exist on jQuery."+e.name)})}}(jQuery);
