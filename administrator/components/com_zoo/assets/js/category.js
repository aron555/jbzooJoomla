/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(e){var t=function(){};e.extend(t.prototype,{name:"SortCategories",initialize:function(o){var a=e("#categories");a&&a.nestedSortable({forcePlaceholderSize:!0,handle:"td.handle",items:"li",placeholder:"placeholder",tabSize:25,tolerance:"pointer",toleranceElement:"> div",listType:"ul",start:function(i,n){n.placeholder.height(n.helper.height()-2),n.helper.addClass("drag")},stop:function(i,n){var l={};e.each(o.serializeArray(),function(r,s){l[s.name]=s.value}),n.item.addClass("loader").find("li").addClass("loader"),e.post(o.attr("action"),e.param(e.extend(l,{task:"saveorder",format:"raw"}))+"&"+a.nestedSortable("serialize"),function(r){a.find("li").removeClass("loader"),e.Message(r,!0),o.BrowseCategories("markCollapsibles")}),n.item.removeClass("drag")}})}}),e.fn[t.prototype.name]=function(){var o=arguments,a=o[0]?o[0]:null;return this.each(function(){var i=e(this);if(t.prototype[a]&&i.data(t.prototype.name)&&a!="initialize")i.data(t.prototype.name)[a].apply(i.data(t.prototype.name),Array.prototype.slice.call(o,1));else if(!a||e.isPlainObject(a)){var n=new t;t.prototype.initialize&&n.initialize.apply(n,e.merge([i],o)),i.data(t.prototype.name,n)}else e.error("Method "+a+" does not exist on jQuery."+t.name)})}})(jQuery),function(e){var t=function(){};e.extend(t.prototype,{name:"BrowseCategories",initialize:function(o){var a=this;e("#categories").on("click","li.collapsible > div td.icon",function(){var i=e(this).closest("li");i.is(".collapsed")?i.removeClass("collapsed").children("ul").show():i.addClass("collapsed").children("ul").hide()}),e("#categories-list .collapse-all").on("click",function(){e("#categories li.collapsible").each(function(){e(this).addClass("collapsed").children("ul").hide()})}),e("#categories-list .expand-all").on("click",function(){e("#categories li.collapsible").each(function(){e(this).removeClass("collapsed").children("ul").show()})}),a.markCollapsibles()},markCollapsibles:function(){e("#categories").find("li").each(function(){e(this).removeClass("collapsible"),e(this).has("ul").length&&e(this).addClass("collapsible")})}}),e.fn[t.prototype.name]=function(){var o=arguments,a=o[0]?o[0]:null;return this.each(function(){var i=e(this);if(t.prototype[a]&&i.data(t.prototype.name)&&a!="initialize")i.data(t.prototype.name)[a].apply(i.data(t.prototype.name),Array.prototype.slice.call(o,1));else if(!a||e.isPlainObject(a)){var n=new t;t.prototype.initialize&&n.initialize.apply(n,e.merge([i],o)),i.data(t.prototype.name,n)}else e.error("Method "+a+" does not exist on jQuery."+t.name)})}}(jQuery),function(e){var t=function(){};e.extend(t.prototype,{name:"EditCategory",initialize:function(o){e("#adminForm").on("validate.adminForm",function(a){o.find('input[name="name"]').val()==""&&(o.find("span.message-name").css("display","block"),a.preventDefault())})}}),e.fn[t.prototype.name]=function(){var o=arguments,a=o[0]?o[0]:null;return this.each(function(){var i=e(this);if(t.prototype[a]&&i.data(t.prototype.name)&&a!="initialize")i.data(t.prototype.name)[a].apply(i.data(t.prototype.name),Array.prototype.slice.call(o,1));else if(!a||e.isPlainObject(a)){var n=new t;t.prototype.initialize&&n.initialize.apply(n,e.merge([i],o)),i.data(t.prototype.name,n)}else e.error("Method "+a+" does not exist on jQuery."+t.name)})}}(jQuery);
