/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(a){var i=function(){};a.extend(i.prototype,{name:"ZooSubmission",initialize:function(t){var n=this;this.input=t,this.app=t.find('[data-type="application"]'),this.submissions=t.find('[data-type="submission"]'),this.types=t.find('[data-type="type"]'),this.setValues(),this.app.on("change",function(){n.setValues()}),this.submissions.on("change",function(){n.setValues()}),t.on("change","select",function(){a(this).closest("div.content").css("height","")}),a(t.closest("form")).find("input[id$=params_type]:hidden, input[id$=params_submission]:hidden").each(function(){a(this).closest(".control-group").remove().end().remove()})},setValues:function(){var t=this.app.val();if(t){var n=null;this.submissions.each(function(){var e=a(this);e.data("app")==t?(e.removeClass("hidden").attr("name",e.data("control")).next(".chzn-container").removeClass("hidden"),n=e.val()):e.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")}),this.types.each(function(){var e=a(this);e.data("app")==t&&e.data("submission")==n?e.removeClass("hidden").attr("name",e.data("control")).next(".chzn-container").removeClass("hidden"):e.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})}else this.input.find('[data-type="submission"], [data-type="type"]').each(function(){a(this).addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})}}),a.fn[i.prototype.name]=function(){var t=arguments,n=t[0]?t[0]:null;return this.each(function(){var e=a(this);if(i.prototype[n]&&e.data(i.prototype.name)&&n!="initialize")e.data(i.prototype.name)[n].apply(e.data(i.prototype.name),Array.prototype.slice.call(t,1));else if(!n||a.isPlainObject(n)){var s=new i;i.prototype.initialize&&s.initialize.apply(s,a.merge([e],t)),e.data(i.prototype.name,s)}else a.error("Method "+n+" does not exist on jQuery."+i.name)})}})(jQuery);
